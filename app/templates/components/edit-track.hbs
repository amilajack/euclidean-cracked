{{ui-slider
  max=1
  min=0
  size=gainSliderSize
  step=0.01
  class="gain-slider"
  onChangeValue=(action "updateSequenceParam" track "gain")
  value=track.gain
}}

<div class="inner-ui-controls">
  {{#audio-track-sampler
    sequence=track.sequence
    directory=directory
    track=track
    gain=track.gain
    isLooping=track.isLooping
    filepath=track.filepath
    outputNodeSelector="#master-compressor" as |sampler|
  }}
    {{ui-step-sequencer 
      sequence=track.sequence 
      stepIndex=sampler.stepIndex
    }}
    <button
      type="delete"
      class="btn btn-danger delete-track-btn"
      {{action "deleteTrack" track}}
    >
      âœ•
    </button>

    {{track-interface-switches switchInterface=(action "switchInterface")}}
    
    {{#if (eq visibleInterface "filePicker")}}
      {{drum-file-picker
        track=track
        saveTrack=saveTrack
        updateFilepath=(action "updateFilepath")
      }}
    {{/if}}
    {{#if (eq visibleInterface "steps")}}
      {{step-param-sliders
        uiStepSize=uiStepSize
        sequence=track.sequence
        track=track
        stepIndex=sampler.stepIndex
      }}
    {{/if}}
    {{#if (eq visibleInterface "rhythm")}}
      {{ui-sequence-controls
        hits=track.hits
        steps=track.steps
        offset=track.offset
        onUpdateSequenceParam=(action "updateSequenceParam" track)  
      }}
    {{/if}}
    {{#if (eq visibleInterface "function")}}
      {{track-function-editor
        customFunction=track.customFunction
        sampler=sampler
      }}
    {{/if}}
  {{/audio-track-sampler}}
</div>
{{yield}}